@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix dct: <http://purl.org/dc/terms/> .

@prefix ids: <http://industrialdataspace.org/2016/10/ids/core#> .
@prefix valid: <http://industrialdataspace.org/2017/01/ids/validation#> .
@prefix trns: <http://industrialdataspace.org/2017/01/ids/transformation#> .

# Classes
# -------

ids:BrokerMessage a owl:Class;
    rdfs:label "BrokerMessage"@en ;
    trns:isAbstract true;
    rdfs:comment "The class of all messages to interact with a Broker.";
    valid:validation [
        owl:onProperty ids:messageContent;
        valid:constraint "@NotNull";
    ].

ids:BrokerDataMessage rdfs:subClassOf ids:BrokerMessage;
    a owl:Class;
    trns:isAbstract true;
    rdfs:label "BrokerDataMessage"@en ;
    rdfs:comment "The class of all messages intended for data transfer to/from a Broker.".

ids:BrokerQueryMessage rdfs:subClassOf ids:BrokerMessage;
    a owl:Class;
    trns:isAbstract true;
    rdfs:label "BrokerQueryMessage"@en ;
    rdfs:comment "The class of all messages that query the broker for data.".

ids:BrokerRequestMessage rdfs:subClassOf ids:BrokerMessage;
    a owl:Class;
    trns:isAbstract true;
    rdfs:label "BrokerRequestMessage"@en ;
    rdfs:comment "The class of all messages that represent requests to a Broker.";
    valid:validation [
        owl:onProperty ids:coveredEntity;
        valid:constraint "@NotNull";
    ].

ids:BrokerResponseMessage rdfs:subClassOf ids:BrokerMessage;
    a owl:Class;
    trns:isAbstract true;
    rdfs:label "BrokerResponseMessage"@en ;
    rdfs:comment "The class of all messages that represent responses of a Broker.";
    valid:validation [
        owl:onProperty ids:correlationId;
        valid:constraint "@NotNull";
    ].

ids:BrokerDataRequest rdfs:subClassOf ids:BrokerDataMessage, ids:BrokerRequestMessage;
    a owl:Class;
    rdfs:label "BrokerDataRequest"@en ;
    rdfs:comment "The class of all messages that represent data requests to a Broker.";
    valid:validation [
        owl:onProperty ids:dataRequestAction;
        valid:constraint "@NotNull";
    ].

ids:BrokerDataResponse rdfs:subClassOf ids:BrokerDataMessage, ids:BrokerResponseMessage;
    a owl:Class;
    rdfs:label "BrokerDataResponse"@en ;
    rdfs:comment "The class of all messages that represent data responses of a Broker.".

ids:BrokerQueryRequest rdfs:subClassOf ids:BrokerRequestMessage, ids:BrokerQueryMessage;
    a owl:Class;
    rdfs:label "BrokerQueryRequest"@en ;
    rdfs:comment "The class of all messages that represent query requests to a Broker.";
    valid:validation [
        owl:onProperty ids:queryRequestAction;
        valid:constraint "@NotNull";
    ];
    valid:validation [
        owl:onProperty ids:queryScope;
        valid:constraint "@NotNull";
    ].

ids:BrokerQueryResponse rdfs:subClassOf ids:BrokerQueryMessage, ids:BrokerResponseMessage;
    a owl:Class;
    rdfs:label "BrokerQueryResponse"@en ;
    rdfs:comment "The class of all messages that represent a Broker's response to a query.".

# Classes with a fixed set of instances
# -------------------------------------

ids:BrokerDataRequestAction a owl:Class;
    rdfs:label "BrokerDataRequestAction"@en ;
    rdfs:comment "The class of all actions that can be issued to a broker in a data request message.".

ids:BrokerDataRegisterAction a ids:BrokerDataRequestAction;
    dct:identifier "REGISTER"@en.

ids:BrokerDataUpdateAction a ids:BrokerDataRequestAction;
    dct:identifier "UPDATE"@en.

ids:BrokerDataPassivateAction a ids:BrokerDataRequestAction;
    dct:identifier "PASSIVATE"@en.

ids:BrokerDataActivateAction a ids:BrokerDataRequestAction;
    dct:identifier "ACTIVATE"@en.

ids:BrokerDataRemoveAction a ids:BrokerDataRequestAction;
    dct:identifier "REMOVE"@en.

ids:BrokerQueryRequestAction a owl:Class;
    rdfs:label "BrokerQueryRequestAction"@en ;
    rdfs:comment "The class of all actions that can be issued to a broker in a query message.".

ids:BrokerQueryRequestGetAction a ids:BrokerQueryRequestAction;
    dct:identifier "GET"@en.

ids:BrokerQueryRequestListAction a ids:BrokerQueryRequestAction;
    dct:identifier "LIST"@en.

ids:BrokerQueryRequestQueryAction a ids:BrokerQueryRequestAction;
    dct:identifier "QUERY"@en.

ids:BrokerQueryMessageScope a owl:Class;
    rdfs:label "BrokerQueryMessageScope"@en ;
    rdfs:comment "The class of scopes that filter datasets by their states when queried.".

ids:BrokerQueryMessageScopeAll a ids:BrokerQueryMessageScope;
    dct:identifier "ALL"@en.

ids:BrokerQueryMessageScopeActive a ids:BrokerQueryMessageScope;
    dct:identifier "ACTIVE"@en.

ids:BrokerQueryMessageScopeAccess a ids:BrokerQueryMessageScope;
    dct:identifier "ACCESS"@en.

ids:EntityCoveredByDataRequest a owl:Class;
    rdfs:label "CoveredComponent"@en ;
    rdfs:comment "The class of IDS entities that are described in a BrokerDataRequest message.".

ids:CoveredParticipant a ids:EntityCoveredByDataRequest;
    dct:identifier "PARTICIPANT"@en.

ids:CoveredConnector a ids:EntityCoveredByDataRequest;
    dct:identifier "CONNECTOR"@en.

ids:CoveredDataEndpoint a ids:EntityCoveredByDataRequest;
    dct:identifier "DATA_ENDPOINT"@en.

# Properties
# ----------

ids:dataRequestAction a owl:ObjectProperty;
    rdfs:label "dataRequestAction";
    rdfs:domain ids:BrokerDataRequest;
    rdfs:range ids:BrokerDataRequestAction;
    rdfs:comment "The action that should be performed with the message's content at the Broker."@en.

ids:queryRequestAction a owl:ObjectProperty;
    rdfs:label "queryRequestAction";
    rdfs:domain ids:BrokerQueryRequest;
    rdfs:range ids:BrokerQueryRequestAction;
    rdfs:comment "The action that should be performed by the query."@en.

ids:coveredEntity a owl:ObjectProperty;
    rdfs:label "coveredEntity";
    rdfs:domain ids:BrokerRequestMessage;
    rdfs:range ids:EntityCoveredByDataRequest;
    rdfs:comment "The IDS entity covered in the data request."@en.

ids:messageContent a owl:DatatypeProperty;
    rdfs:label "messageContent";
    rdfs:domain ids:BrokerMessage;
    rdfs:range xsd:string;
    rdfs:comment "The message's content, e.g., a query."@en.

ids:correlationId a owl:DatatypeProperty;
    rdfs:label "correlationId";
    rdfs:domain ids:BrokerResponseMessage;
    rdfs:range xsd:anyURI;
    rdfs:comment "The unique ID of the source request which is referred to by a response message."@en.

ids:queryScope a owl:ObjectProperty;
    rdfs:label "queryScope";
    rdfs:domain ids:BrokerQueryMessage;
    rdfs:range ids:BrokerQueryMessageScope;
    rdfs:comment "The scope of a query defined in a query message."@en.